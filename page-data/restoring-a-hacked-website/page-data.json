{"componentChunkName":"component---src-templates-page-js","path":"/restoring-a-hacked-website","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Restoring A Hacked Website","date":"05 June 2020","path":"/restoring-a-hacked-website","author":"James","excerpt":"","tags":["wordpress"],"coverImage":null},"id":"4b83632a-e80f-5e7b-846a-0afabd7f07bc","html":"<p>A couple of weeks ago, I had a chance to restore one website that had been hacked by a hacker. Since I think it was a valuable experience experience to me, I wrote the below record in case. </p>\n<h1>Problem</h1>\n<ul>\n<li>A Wordpress website had been hacked</li>\n<li>Once a user visited the website, they were redirected to website(s) the hacker(s) chose.</li>\n<li>I could not access wp-admin since I was redirected to another website right away.</li>\n</ul>\n<h1>Derived Problems</h1>\n<ul>\n<li>\n<p>The website was supposed to be removed from or blacklisted by search engines.</p>\n<ul>\n<li>Since the problem was found after a few days after the incident, it did not happen yet.</li>\n</ul>\n</li>\n</ul>\n<h1>Causes</h1>\n<ul>\n<li>\n<p>The address <code class=\"language-text\">js.digestcolect.com</code> was used for redirection </p>\n<ul>\n<li>In <code class=\"language-text\">header</code>, <code class=\"language-text\">js.digestcolect.com</code> was used for pingback</li>\n<li>\n<p>Near the end of <code class=\"language-text\">body</code>, I found that several scripts were added. The scripts did the follow:</p>\n<ul>\n<li>Once a user visits the website, the script had been executed. They were redirected to some websites. (not <code class=\"language-text\">js.digestcolect.com</code>).</li>\n<li>The hacker used Wordpress  <code class=\"language-text\">Elementor</code> plugin and <code class=\"language-text\">Sydney</code> theme to achieve the above.</li>\n<li>The plugin and theme had not been updated for a while.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h1>Solution - General</h1>\n<ul>\n<li>\n<p>Visited its hosting website right away</p>\n<ul>\n<li>To check whether somebody tried to sign in its hosting account</li>\n<li>It was not affected, so I changed its password first</li>\n</ul>\n</li>\n<li>\n<p>Changed passwords for 1) database and 2) FTP</p>\n<ul>\n<li>After you change the database password, check the website again. </li>\n<li>Change the FTP password as well. In this case, failure to change the FTP allowed the attacker to implement sitemaps and a file to do Google Analytics verification.</li>\n</ul>\n</li>\n<li>\n<p>Did Curl on Terminal to see what caused such redirection.</p>\n<ul>\n<li>Useful to know which part caused redirection.</li>\n</ul>\n</li>\n</ul>\n<h1>Solution - Database</h1>\n<ul>\n<li>\n<p>Accessed the database and checked all tables</p>\n<ul>\n<li><code class=\"language-text\">wp_options</code> are commonly used to achieve redirection. (In particular, the address)</li>\n<li>Looked up <code class=\"language-text\">wp_statistics_visitor</code> to know 1) when and 2) how the attack was happened.</li>\n</ul>\n</li>\n</ul>\n<h1>Solution - Wordpress</h1>\n<ul>\n<li>\n<p>Checked the theme and plugin's files whether the attacker also changed the files.</p>\n<ul>\n<li>Both <code class=\"language-text\">Sydney</code> theme and <code class=\"language-text\">Elementor</code> plugin had been manipulated.</li>\n<li>The result of doing Curl was helpful. (because I found which parts caused the redirection problem)</li>\n</ul>\n</li>\n<li>Found the scripts implemented in the files of the theme and plugin, and removed the parts</li>\n<li>\n<p>Signed in Wordpress admin page</p>\n<ul>\n<li>Install security-related plugins, if there isn't any</li>\n<li>Update all themes and plugins</li>\n</ul>\n</li>\n</ul>","excerpt":"A couple of weeks ago, I had a chance to restore one website that had been hacked by a hacker. Since I think it was a valuable experienceâ€¦"}},"pageContext":{"type":"posts","next":{"frontmatter":{"path":"/slugify-in-python","title":"Slugify In Python","tags":["python"]},"fileAbsolutePath":"/Users/james/Development/Git/jyoo/src/posts/2020-05-04-slugify-in-python.md"},"previous":null}}}